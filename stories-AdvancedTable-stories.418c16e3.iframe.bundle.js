"use strict";(self.webpackChunk_ab_uitools_storybook=self.webpackChunk_ab_uitools_storybook||[]).push([[6947],{"../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>_slicedToArray});var unsupportedIterableToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||(0,unsupportedIterableToArray.A)(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./src/stories/AdvancedTable.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AdvancedTable:()=>AdvancedTable,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),_ab_uitools_ui_library_components_AdvancedTable_IndeterminateCheckbox__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../ui-library/src/components/AdvancedTable/IndeterminateCheckbox.tsx"),_ab_uitools_ui_library__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../ui-library/src/index.ts");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var data=[{user:"USER",age:21,id:"fffffffsdf",visits:[7,8,9],progress:"fdfsdfsdfsd",status:"Active",subRows:[{user:"User 1",age:21,id:"sub1",visits:[1,2,3],progress:"Sub Progress 1",status:"Active"},{user:"User 2",age:22,id:"sub2",visits:[4,5,6],progress:"Sub Progress 2",status:"Inactive"}]},{user:"Bruce Wayne",id:"fffffffeeeee",age:29,visits:[1,2,3],progress:"diff",status:"Active",subRows:[{user:"User 3",age:29,id:"sub3",visits:[7,8,9],progress:"Sub Progress 3",status:"Active"}]},{user:"John Doe",age:30,id:"dsfsdf",visits:[4,5,6],progress:"divv",status:"Active"},{user:"Jane Smith",age:25,id:"jane123",visits:[2,3,4],progress:"progress1",status:"Inactive",subRows:[{user:"User 4",age:25,id:"sub4",visits:[5,6,7],progress:"Sub Progress 4",status:"Active"},{user:"User 5",age:26,id:"sub5",visits:[8,9,10],progress:"Sub Progress 5",status:"Inactive"}]}].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__.A)(Array(30).fill({user:"Regular User",age:30,id:"regular",visits:[4,5,6],progress:"regular",status:"Active"})));const __WEBPACK_DEFAULT_EXPORT__={title:"AdvancedTable",component:_ab_uitools_ui_library__WEBPACK_IMPORTED_MODULE_4__.bXS,parameters:{layout:"fullscreen"},argTypes:{collapsibleRows:{control:"boolean",description:"Enable row-level collapsible functionality"}}};var AdvancedTable=function Template(args){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}),_useState2=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__.A)(_useState,2),selectedSubRows=_useState2[0],setSelectedSubRows=_useState2[1],columns=[{id:"user",header:"User",accessorKey:"user"},{header:"Status",id:"status",accessorKey:"status",cell:function cell(row){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_ab_uitools_ui_library__WEBPACK_IMPORTED_MODULE_4__.C42,{text:"Created",type:"accent",color:"information"})}},{id:"age",accessorKey:"age",header:"Age"},{header:"Profile Progress",id:"progress",accessorKey:"progress"},{header:"Test 1",id:"test_1",accessorKey:"visits"},{header:"Test 2",id:"test_2",accessorKey:"visits"},{header:"Test 3",id:"test_3",accessorKey:"visits"},{header:"Test 4",id:"test_4",accessorKey:"visits"},{header:"Test 5",id:"test_5",accessorKey:"visits",enableHiding:!1},{header:"Visits",id:"visits",accessorKey:"visits"},{header:"Actions",id:"actions",accessorKey:"actions",cell:function cell(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"flexbox align-items--center"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_ab_uitools_ui_library__WEBPACK_IMPORTED_MODULE_4__.$nd,{className:"mr-8",iconProps:{Component:_ab_uitools_ui_library__WEBPACK_IMPORTED_MODULE_4__.xZp},type:"secondary"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_ab_uitools_ui_library__WEBPACK_IMPORTED_MODULE_4__.$nd,{className:"mr-8",iconProps:{Component:_ab_uitools_ui_library__WEBPACK_IMPORTED_MODULE_4__.GI1},type:"secondary"}),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_ab_uitools_ui_library__WEBPACK_IMPORTED_MODULE_4__.$nd,{iconProps:{Component:_ab_uitools_ui_library__WEBPACK_IMPORTED_MODULE_4__.xV8},type:"secondary"}))}}];return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{style:{height:"95vh"}},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_ab_uitools_ui_library__WEBPACK_IMPORTED_MODULE_4__.bXS,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__.A)({},args,{data,totalCount:100,tableSettings:{tableName:"advancedTable",persistColumnSettings:"localStorage"},columns,defaultHiddenColumns:["user"],emptyTitle:"Empty title",emptySubTitle:"Please try to reload the page or use another keyword.",renderHeader:function renderHeader(table){return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"advanced-table__header justify-content--end"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_ab_uitools_ui_library__WEBPACK_IMPORTED_MODULE_4__.Uyr,{hiddenColumns:["user"],tooltipText:"Column is disabled",table}))},renderFooter:function renderFooter(table){return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"advanced-table__footer"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_ab_uitools_ui_library__WEBPACK_IMPORTED_MODULE_4__.vCI,{table,totalCount:1e3}))},renderExpandedContent:function renderExpandedContent(row){var isParentSelected=row.getIsSelected();return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"advanced-table__expanded-content"},react__WEBPACK_IMPORTED_MODULE_1__.createElement("table",{style:{width:"100%"}},react__WEBPACK_IMPORTED_MODULE_1__.createElement("tbody",null,(row.original.subRows||[]).map((function(subRow,index){return react__WEBPACK_IMPORTED_MODULE_1__.createElement("tr",{key:subRow.id||index,className:classnames__WEBPACK_IMPORTED_MODULE_2___default()({selected:isParentSelected||selectedSubRows[subRow.id]})},args.withSelect&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("td",{className:"with-checkbox"},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_ab_uitools_ui_library_components_AdvancedTable_IndeterminateCheckbox__WEBPACK_IMPORTED_MODULE_3__.Z,{checked:isParentSelected||selectedSubRows[subRow.id]||!1,onChange:function onChange(e){isParentSelected||function handleSubRowSelection(subRowId,checked){setSelectedSubRows((function(prev){return _objectSpread(_objectSpread({},prev),{},(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)({},subRowId,checked))}))}(subRow.id,e.target.checked)},indeterminate:!1,disabled:isParentSelected}))),columns.map((function(column,colIndex){if("actions"===column.id||"select"===column.id)return null;var cell=row.getVisibleCells().find((function(cell){return cell.column.id===column.id}));if(!cell)return null;var accessorKey="accessorKey"in column?column.accessorKey:column.id;return react__WEBPACK_IMPORTED_MODULE_1__.createElement("td",{key:column.id,className:classnames__WEBPACK_IMPORTED_MODULE_2___default()((0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)((0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)({},"pinned-cell",cell.column.getIsPinned()),"selected",isParentSelected||selectedSubRows[subRow.id])),style:{width:cell.column.getSize()}},"status"===column.id?react__WEBPACK_IMPORTED_MODULE_1__.createElement(_ab_uitools_ui_library__WEBPACK_IMPORTED_MODULE_4__.C42,{text:subRow.status,type:"accent",color:"Active"===subRow.status?"information":"warning"}):subRow[accessorKey])})))})))))},onRowSelection:function handleRowSelection(state){Object.entries(state).forEach((function(_ref){var _ref2=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__.A)(_ref,2),rowId=_ref2[0],isSelected=_ref2[1],row=data.find((function(r){return r.id===rowId}));if(null!=row&&row.subRows){var newSelectedSubRows=_objectSpread({},selectedSubRows);row.subRows.forEach((function(subRow){isSelected?newSelectedSubRows[subRow.id]=!0:delete newSelectedSubRows[subRow.id]})),setSelectedSubRows(newSelectedSubRows)}}))}})))}.bind({});AdvancedTable.args={withSelect:!0,withBorder:!0,isActionsVisible:!1,isLoading:!1,collapsibleRows:!0,onSortChange:function onSortChange(state){return console.log(state)},onRowSelection:function onRowSelection(state){return console.log(state)},onPaginationChange:function onPaginationChange(state){return console.log(state)},onRowClick:function onRowClick(row){return console.log(row)}},AdvancedTable.parameters={docs:{description:{story:"AdvancedTable with collapsible rows functionality. Each row can be expanded to show additional content."}}};const __namedExportsOrder=["AdvancedTable"]}}]);