"use strict";(self.webpackChunk_ab_uitools_storybook=self.webpackChunk_ab_uitools_storybook||[]).push([[6269],{"../ui-library/src/components/OneTimePassword/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>OneTimePassword});var react=__webpack_require__("../../node_modules/react/index.js"),classnames=__webpack_require__("../../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),Text=__webpack_require__("../ui-library/src/components/Text/index.ts"),IconCheckmarkCircleFilled=__webpack_require__("../ui-library/src/components/SVGIcons/IconCheckmarkCircleFilled.tsx"),Input=__webpack_require__("../ui-library/src/components/Input/index.ts"),helperComponents=__webpack_require__("../ui-library/src/helperComponents/index.ts"),_excluded=["className","size","error","hasError","label","name","disabled","required","placeholder","type","pattern","setFieldValue","handleChange","dataId","isValid","count","successMessage","autoFocus","allowLetters"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||_unsupportedIterableToArray(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||_unsupportedIterableToArray(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var OneTimePassword=react.forwardRef((function(_ref){var className=_ref.className,_ref$size=_ref.size,size=void 0===_ref$size?"large":_ref$size,error=_ref.error,hasError=_ref.hasError,label=_ref.label,name=_ref.name,disabled=_ref.disabled,required=_ref.required,placeholder=_ref.placeholder,type=_ref.type,pattern=_ref.pattern,setFieldValue=_ref.setFieldValue,handleChange=_ref.handleChange,_ref$dataId=_ref.dataId,dataId=void 0===_ref$dataId?"":_ref$dataId,isValid=_ref.isValid,count=_ref.count,successMessage=_ref.successMessage,autoFocus=_ref.autoFocus,_ref$allowLetters=_ref.allowLetters,allowLetters=void 0!==_ref$allowLetters&&_ref$allowLetters,rest=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),isErrorVisible=void 0!==hasError?hasError:!!error,_useState2=_slicedToArray((0,react.useState)(Array(count).fill("")),2),otp=_useState2[0],setOtp=_useState2[1],inputRefs=(0,react.useRef)([]),onChange=function onChange(e,value,index){if(allowLetters&&1===value.length||!(Number.isNaN(Number(value))&&"0"!==value||1!==value.length)||""===value){var newOtp=_toConsumableArray(otp);newOtp[index]=null==value?void 0:value.slice(-1),setOtp(newOtp);var _inputRefs$current,currentValue=newOtp.join("");handleChange&&handleChange(e,currentValue),setFieldValue&&name&&setFieldValue(name,currentValue),value&&index<count-1&&(null===(_inputRefs$current=inputRefs.current[index+1])||void 0===_inputRefs$current||_inputRefs$current.focus())}},setInputRef=(0,react.useCallback)((function(el,index){inputRefs.current[index]=el}),[]);return react.createElement("div",{className:classnames_default()("otp",className,"otp-".concat(type))},react.createElement(helperComponents.JU,{text:label,required,disabled,dataId}),react.createElement("div",{className:"otp__inner flexbox"},otp.map((function(digits,index){return react.createElement(Input.p,_extends({key:index,size,ref:function ref(el){return setInputRef(el,index)},max:1,type,pattern,hasError,isValid,readonly:disabled,disabled,placeholder,currentValue:digits,handleChange:function handleChange(e,value){return onChange(e,value,index)},onKeyDown:function onKeyDown(e){return function handleKeyDown(event,index){if("Backspace"===event.key&&!otp[index]&&index>0){var _inputRefs$current2;null===(_inputRefs$current2=inputRefs.current[index-1])||void 0===_inputRefs$current2||_inputRefs$current2.focus();var newOtp=_toConsumableArray(otp);newOtp[index-1]="",setOtp(newOtp)}var _inputRefs$current3,_inputRefs$current4;"ArrowLeft"===event.key&&index>0&&(null===(_inputRefs$current3=inputRefs.current[index-1])||void 0===_inputRefs$current3||_inputRefs$current3.focus()),"ArrowRight"===event.key&&index<count-1&&(null===(_inputRefs$current4=inputRefs.current[index+1])||void 0===_inputRefs$current4||_inputRefs$current4.focus())}(e,index)},autoFocus:autoFocus&&0===index},rest))}))),error||successMessage?react.createElement("div",{className:"input__message mt-8"},isErrorVisible&&error?react.createElement(helperComponents.Kw,{message:error,icon:"infoFilled",dataId}):null,successMessage?react.createElement(Text.E,{size:"small",type:"success-light",className:"flexbox align-items--center"},react.createElement(react.Fragment,null,react.createElement(IconCheckmarkCircleFilled.default,{type:"success-light",size:"xsmall"}),react.createElement("span",{className:"ml-4"},successMessage))):null):null)}));OneTimePassword.displayName="OneTimePassword",OneTimePassword.__docgenInfo={description:"",methods:[],displayName:"OneTimePassword"}},"./src/stories/OneTimePassword.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{OneTimePassword:()=>OneTimePassword,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_ab_uitools_ui_library_components_OneTimePassword__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../ui-library/src/components/OneTimePassword/index.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"OneTimePassword",component:_ab_uitools_ui_library_components_OneTimePassword__WEBPACK_IMPORTED_MODULE_1__.r,argTypes:{type:{options:["text","password","number"],control:{type:"radio"}},size:{options:["large","small"],control:{type:"radio"}},hasError:{options:[!0,!1],control:{type:"radio"}},autoFocus:{options:[!0,!1],control:{type:"radio"}}}};var OneTimePassword=function Template(args){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ab_uitools_ui_library_components_OneTimePassword__WEBPACK_IMPORTED_MODULE_1__.r,args)}.bind({});OneTimePassword.args={type:"number",size:"large",count:5,pattern:"[0-9]*",label:"One Time Password",hasError:!0,error:"error text",successMessage:"Success text",autoFocus:!1};const __namedExportsOrder=["OneTimePassword"]}}]);